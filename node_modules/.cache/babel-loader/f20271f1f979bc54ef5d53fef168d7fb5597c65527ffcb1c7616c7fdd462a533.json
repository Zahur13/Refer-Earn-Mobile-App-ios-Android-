{"ast":null,"code":"import{auth}from\"../firebase/config\";const API_BASE_URL=process.env.REACT_APP_API_URL||\"/api\";async function callAPI(endpoint,data){try{// console.log(`ðŸš€ Calling API: ${endpoint}`, data); // âœ… ADD THIS\nconst currentUser=auth.currentUser;if(!currentUser){throw new Error(\"Not authenticated\");}const token=await currentUser.getIdToken();// console.log(`ðŸ“¡ Making request to: ${API_BASE_URL}/${endpoint}`); // âœ… ADD THIS\nconst response=await fetch(\"\".concat(API_BASE_URL,\"/\").concat(endpoint),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify(data)});// console.log(`ðŸ“¥ Response status:`, response.status); // âœ… ADD THIS\nconst result=await response.json();// console.log(`ðŸ“¦ Response data:`, result); // âœ… ADD THIS\nif(!response.ok){throw new Error(result.error||\"API request failed\");}return result;}catch(error){console.error(\"API Error (\".concat(endpoint,\"):\"),error);throw error;}}export const submitActivationRequest=async utrNumber=>{return callAPI(\"submitActivationRequest\",{utrNumber});};export const approveActivation=async requestId=>{// console.log(`âœ… approveActivation called with requestId:`, requestId); // âœ… ADD THIS\nreturn callAPI(\"approveActivation\",{requestId});};export const rejectActivation=async(requestId,reason)=>{return callAPI(\"rejectActivation\",{requestId,reason});};export const createWithdrawalRequest=async(amount,upiId)=>{return callAPI(\"createWithdrawalRequest\",{amount,upiId});};export const approveWithdrawal=async(withdrawalId,adminNote)=>{return callAPI(\"approveWithdrawal\",{withdrawalId,adminNote});};export const rejectWithdrawal=async(withdrawalId,reason)=>{return callAPI(\"rejectWithdrawal\",{withdrawalId,reason});};","map":{"version":3,"names":["auth","API_BASE_URL","process","env","REACT_APP_API_URL","callAPI","endpoint","data","currentUser","Error","token","getIdToken","response","fetch","concat","method","headers","Authorization","body","JSON","stringify","result","json","ok","error","console","submitActivationRequest","utrNumber","approveActivation","requestId","rejectActivation","reason","createWithdrawalRequest","amount","upiId","approveWithdrawal","withdrawalId","adminNote","rejectWithdrawal"],"sources":["/Users/zahurshaikh/Documents/Refer-Earn-APP/src/api/vercelFunctions.js"],"sourcesContent":["import { auth } from \"../firebase/config\";\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || \"/api\";\n\nasync function callAPI(endpoint, data) {\n  try {\n    // console.log(`ðŸš€ Calling API: ${endpoint}`, data); // âœ… ADD THIS\n\n    const currentUser = auth.currentUser;\n    if (!currentUser) {\n      throw new Error(\"Not authenticated\");\n    }\n\n    const token = await currentUser.getIdToken();\n\n    // console.log(`ðŸ“¡ Making request to: ${API_BASE_URL}/${endpoint}`); // âœ… ADD THIS\n\n    const response = await fetch(`${API_BASE_URL}/${endpoint}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify(data),\n    });\n\n    // console.log(`ðŸ“¥ Response status:`, response.status); // âœ… ADD THIS\n\n    const result = await response.json();\n    // console.log(`ðŸ“¦ Response data:`, result); // âœ… ADD THIS\n\n    if (!response.ok) {\n      throw new Error(result.error || \"API request failed\");\n    }\n\n    return result;\n  } catch (error) {\n    console.error(`API Error (${endpoint}):`, error);\n    throw error;\n  }\n}\n\nexport const submitActivationRequest = async (utrNumber) => {\n  return callAPI(\"submitActivationRequest\", { utrNumber });\n};\n\nexport const approveActivation = async (requestId) => {\n  // console.log(`âœ… approveActivation called with requestId:`, requestId); // âœ… ADD THIS\n\n  return callAPI(\"approveActivation\", { requestId });\n};\n\nexport const rejectActivation = async (requestId, reason) => {\n  return callAPI(\"rejectActivation\", { requestId, reason });\n};\n\nexport const createWithdrawalRequest = async (amount, upiId) => {\n  return callAPI(\"createWithdrawalRequest\", { amount, upiId });\n};\n\nexport const approveWithdrawal = async (withdrawalId, adminNote) => {\n  return callAPI(\"approveWithdrawal\", { withdrawalId, adminNote });\n};\n\nexport const rejectWithdrawal = async (withdrawalId, reason) => {\n  return callAPI(\"rejectWithdrawal\", { withdrawalId, reason });\n};\n"],"mappings":"AAAA,OAASA,IAAI,KAAQ,oBAAoB,CAEzC,KAAM,CAAAC,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,MAAM,CAE5D,cAAe,CAAAC,OAAOA,CAACC,QAAQ,CAAEC,IAAI,CAAE,CACrC,GAAI,CACF;AAEA,KAAM,CAAAC,WAAW,CAAGR,IAAI,CAACQ,WAAW,CACpC,GAAI,CAACA,WAAW,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,mBAAmB,CAAC,CACtC,CAEA,KAAM,CAAAC,KAAK,CAAG,KAAM,CAAAF,WAAW,CAACG,UAAU,CAAC,CAAC,CAE5C;AAEA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIb,YAAY,MAAAa,MAAA,CAAIR,QAAQ,EAAI,CAC1DS,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,aAAa,WAAAH,MAAA,CAAYJ,KAAK,CAChC,CAAC,CACDQ,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACb,IAAI,CAC3B,CAAC,CAAC,CAEF;AAEA,KAAM,CAAAc,MAAM,CAAG,KAAM,CAAAT,QAAQ,CAACU,IAAI,CAAC,CAAC,CACpC;AAEA,GAAI,CAACV,QAAQ,CAACW,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAd,KAAK,CAACY,MAAM,CAACG,KAAK,EAAI,oBAAoB,CAAC,CACvD,CAEA,MAAO,CAAAH,MAAM,CACf,CAAE,MAAOG,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,eAAAV,MAAA,CAAeR,QAAQ,OAAMkB,KAAK,CAAC,CAChD,KAAM,CAAAA,KAAK,CACb,CACF,CAEA,MAAO,MAAM,CAAAE,uBAAuB,CAAG,KAAO,CAAAC,SAAS,EAAK,CAC1D,MAAO,CAAAtB,OAAO,CAAC,yBAAyB,CAAE,CAAEsB,SAAU,CAAC,CAAC,CAC1D,CAAC,CAED,MAAO,MAAM,CAAAC,iBAAiB,CAAG,KAAO,CAAAC,SAAS,EAAK,CACpD;AAEA,MAAO,CAAAxB,OAAO,CAAC,mBAAmB,CAAE,CAAEwB,SAAU,CAAC,CAAC,CACpD,CAAC,CAED,MAAO,MAAM,CAAAC,gBAAgB,CAAG,KAAAA,CAAOD,SAAS,CAAEE,MAAM,GAAK,CAC3D,MAAO,CAAA1B,OAAO,CAAC,kBAAkB,CAAE,CAAEwB,SAAS,CAAEE,MAAO,CAAC,CAAC,CAC3D,CAAC,CAED,MAAO,MAAM,CAAAC,uBAAuB,CAAG,KAAAA,CAAOC,MAAM,CAAEC,KAAK,GAAK,CAC9D,MAAO,CAAA7B,OAAO,CAAC,yBAAyB,CAAE,CAAE4B,MAAM,CAAEC,KAAM,CAAC,CAAC,CAC9D,CAAC,CAED,MAAO,MAAM,CAAAC,iBAAiB,CAAG,KAAAA,CAAOC,YAAY,CAAEC,SAAS,GAAK,CAClE,MAAO,CAAAhC,OAAO,CAAC,mBAAmB,CAAE,CAAE+B,YAAY,CAAEC,SAAU,CAAC,CAAC,CAClE,CAAC,CAED,MAAO,MAAM,CAAAC,gBAAgB,CAAG,KAAAA,CAAOF,YAAY,CAAEL,MAAM,GAAK,CAC9D,MAAO,CAAA1B,OAAO,CAAC,kBAAkB,CAAE,CAAE+B,YAAY,CAAEL,MAAO,CAAC,CAAC,CAC9D,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}